# 什么是Elasticsearch？

​		ElasticSearch是一个基于Lucene的搜索服务器。它提供了一个分布式多用户能力的全文搜索引擎，基于RESTfulweb接口，ElasticSearch是用Java开发的，并作为Apache许可条款下的开放源码发布，是当前流行的企业级搜索引擎。设计用于云计算中，能够达到实时搜索，稳定，可靠，快速，安装使用方便。构建在全文检索开源软件Lucene之上的Elasticsearch，不仅能对海量规模的数据完成分布式索引与检索，还能提供数据聚合分析。据国际权威的数据库产品评测机构DBEngines的统计，在2016年1月，Elasticsearch已超过Solr等，成为排名第一的搜索引擎类应用

​		概括：基于Restful标准的高扩展高可用的实时数据分析的全文搜索工具	

# Elasticsearch能做什么？

​		Elasticsearch我们知道他是作为一个基于Lucene的一个搜索服务器，那么他肯定平时比较适用的场景就是用来搜索了，可以很好地存储和查询文档，可以应用于各个应用程序的搜索功能，例如电商的商品搜索，大数据量的日志系统，或者说一个海量数据的查询查找，以及我们能非常灵活的动态进行扩容，还能使用与地址数据的存储和分析，以及时间序列等等，只要是用于查询的功能，Elasticsearch大部分都能够给我们提供服务，所以Elasticsearch是一个非常强大的搜索引擎。

​		能够用于但不限于一下场景：

​					1、各种应用程序的搜索，如电商，医药，物流等等

​					2、大数据量的日志分析，我们可以用搭建ELK日志系统，对日志进行分析

​					3、使用机器学习实时自动建模数据行为

​					4、使用Elasticsearch作为地理信息系统（GIS）管理，集成和分析空间信息

​					5、使用Elasticsearch作为生物信息学研究工具来存储和处理遗传数据

# Elasticsearch官方文档地址？

​		Elasticsearch的版本随着更新也会有不同的变化下面我们将所有版本的文档都放在了官网的这个地址中：  [点击进入](https://www.elastic.co/guide/en/elasticsearch/reference/index.html)

​		Elasticsearch提供了一个简单，一致的REST API，用于管理您的集群以及索引和搜索数据。为了进行测试，您可以轻松地直接从命令行或通过Kibana中的开发者控制台提交请求。在您的应用程序中，您可以使用 [Elasticsearch客户端](https://www.elastic.co/guide/en/elasticsearch/client/index.html) 作为您选择的语言：Java，JavaScript，Go，.NET，PHP，Perl，Python或Ruby。

# Elasticsearch的核心概念？		

## Index（索引）

　　Index（索引）就是相当于我们查询的时候指定从哪一个地方进行查询，我们知道Elasticsearch对于存储的数据都回去进行创建索引，提高查询效率，这里的Index有一点类似于我们的库，例如我们把一条数据存储到一个索引中，把另一条数据存储到另一个索引中，但是他和库的概念是相差非常地大，例如我们可以同时查询多个索引或者所有索引的数据，但是数据库不行，Index（索引）相当于帮我们定制了一个路径我们需要把相应的文件放入相应的路径中。

## Type（类型）

　　关于Type（类型），如果我们将Index比喻为库，那么我们可以简单的将它理解成数据库中的表，但是他和表的性质也是相差非常大的，这里的类型也相当于一个帮助我们精确定位数据集的一个类型，在早期的版本中一个Index（索引）可以创建多个Type但在之后的版本中只能设置一个，之后的Elasticsearch会逐渐的将Type（类型移除掉）。

## Document（文档）

　　关于Document（文档）就是我们存储的一条条数据，我们可以把它叫做一个个文档，我们也能将这个Document理解为数据库中的一行表数据库。

## Field（字段）

　	如果说我们的Document是一条行数据的话，那么我们的Field就是行数据中的属性字段，我们知道在Java中每个对象都会有不同的字段属性也就是我们的Field，每个Field都是有对应的类型的，比如我们name这个Field通常莱索就是字符串那么他是一个text文本的类型，Field就是我们的字段，可以理解为数据库中的字段。

## Mapping（映射）

　　那么我们知道既然我们有库有表有字段，那么我们对应这张表的数据结构到底是什么呢，我们总不可能往里面乱放数据吧，这个Mapping（映射）如果我们把它和数据库进行对比的话，我们可以吧这个Mapping（映射）理解为一个表结构，我们数据库的表中都规定了字段以及类型，我们的Mapping（映射）也是类似的功能，但是如果说我们存入数据的时候没有这个Mapping（映射）那么Elasticsearch就会自己进行动态的创建。

## Cluster（集群）

​		我们在官网可以很明显的看到Elasticsearch是一个分布式文档存储，那么从这个分布式中我们就能很明白的看出他肯定是会有集群的，那么我们的Cluster（集群）就相当于把很多台Elasticsearch节点组成了一整个集群，这个集群中的各个节点协调工作，并且可以互相访问以及同步数据，和我们的主从复制或者哨兵机制不一样，Elasticsearch的集群采用的一个分片的方式进行集群。

## Node（节点）

​		我们知道Elasticsearch是分布式的集群，那么每一个集群中肯定是有很多个Node（节点）的，他们部署在各个不同的服务器中，并且为我们的整个集群提供服务，我们可以把每一个Node（节点）看作是一个Elasticsearch服务，相当于一个班级（集群）下有很多个学生（节点）。

## Shard（分片）

​		那么我们知道我们Elasticsearch是一个分布式的文档存储引擎，那么我们的数据是怎么样存储到各个服务器上的呢？答案就是我们的Shard分片了，好比说我们的100条数据需要分开存储到4台服务器中，那么我们就需要有4个Shard（分片），每一个节点一个Shard（分片），我们在存储数据的时候根据Elasticsearch的算法将数据分配到4台服务器中，也就是相当于我们的100条数据分成4分就是4个Shard（分片），分成5份就是5个Shard（分片），如果说我们只有3个Node（节点），然后我们分配了4份，那么就会有一个Node（节点）会分配到两个Shard（分片）。

## Replica（副本）

​		Replica（副本）这个其实就是我们的Shard（分片）的一个拓印版，相当于我们把这个Shard（分片）复制了，那么我们为什么需要这个Replica（副本）呢，那么我们知道Elasticsearch是分布式存储的，如果说我们的某一个节点宕机了，那么我们的数据是已经分片了的，宕机的那个Node（节点）的Shard（分片）我们就无法查询到了，所以Elasticsearch为了容灾会创建Replica（副本），我们的Shard（分片）对应的Replica（副本）是不会放在同一个节点上的，当一个节点宕机后我们可以找到这个Shard（分片）在其他机器上的副本进行查询。
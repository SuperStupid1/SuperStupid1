1.进入到要存放安装包的位置

cd /home/lnmp


2.查看系统中是否已安装 MySQL 服务，以下提供两种方式：

rpm -qa | grep mysql
yum list installed | grep mysql


3.如果已安装则删除 MySQL 及其依赖的包：

yum -y remove mysql-libs.x86_64



4.下载 mysql57-community-release-el7-8.noarch.rpm 的 YUM 源：

wget http://repo.mysql.com/mysql57-community-release-el7-8.noarch.rpm



5.安装 mysql57-community-release-el7-8.noarch.rpm：

rpm -ivh mysql57-community-release-el7-8.noarch.rpm




6.安装 MySQL，出现提示的话，一路 Y 到底

yum install mysql-server


安装完毕后，运行mysql，然后在  /var/log/mysqld.log 文件中会自动生成一个随机的密码，我们需要先取得这个随机密码，以用于登录 MySQL 服务端：

service mysqld start
grep "password" /var/log/mysqld.log
将会返回如下内容，末尾字符串就是密码，把它复制下来：

A temporary password is generated for root@localhost: -》新密码


7.登录到 MySQL 服务端并更新用户 root 的密码：

注意：由于 MySQL5.7 采用了密码强度验证插件 validate_password，故此我们需要设置一个有一定强度的密码；

mysql -u root -p

输入上面随机的密码进入mysql

set global validate_password_policy=0; 

set global validate_password_mixed_case_count=0;
 
set global validate_password_number_count=3; 

set global validate_password_special_char_count=0;
 
set global validate_password_length=3;

先将mysql密码的要求权限关闭在设置最短密码长度
CREATE USER 'bigkang'@'%' IDENTIFIED BY 'bigkang';


所有的All权限（增，删，改，查）
*.*所有数据库所有表

bigkang用户
所有的ip

 GRANT All ON *.* TO 'bigkang'@'%';
show profile cpu,block io for query 


REVOKE select,insert,update,delete ON mytest.* FROM huangkang@'%';

REVOKE SELECT ON mytest.* FROM huangkang@'%' IDENTIFIED BY "bigkang";

update mysql.user set authentication_string=password("123") where User="root";
然后再设置密码
 
update mysql.user set authentication_string=password("123") where user="root" ;
然后再刷新权限
FLUSH PRIVILEGES;
然后就安装完成了


## 应用性能准入

### 1. 容量模型

应用或模块必须有容量评估模型，用来描述该应用或模块的容量情况，包括如何预估未来的容量需求（比如跟pv或者订单量之间的关系）、如何统计现有的压力数据（比如qps或存储空间）、如何计算现有的性能数据（如极限qps等）。

### 2. 性能测试

原则上任何应用或模块上线前需要经过压力测试，确认上线后系统的容量仍然充足，并给出本次上线后性能的变化率。

### 3. 性能指标

对于任意应用或模块，应提供以下性能指标，包括但不限于处理能力/吞吐量/并发量，资源占用，响应时间等，作为对其当前状态评估的标准。

#### 3.1 极限性能

此指标用来描述应用或模块在可以提供正常服务的前提下所能够具有的极限数据，主要用来作为部署及容量规划的基础。

#### 3.2 性能黄线

此指标用来描述应用或模块在此性能指标下已达到警戒水平，主要用来做各种监控的阈值报警及扩容，策略切换等操作的基础。

#### 3.3 性能红线

此指标用来描述应用或模块的某性能指标已达到高风险情况，必须将解决性能问题作为第一优先级，紧急扩容或者优化性能。

### 4. 极限QPS要求

原则上要求单个实例的极限QPS要大于200，且在该QPS下error率为0。